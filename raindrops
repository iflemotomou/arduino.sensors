/*
Ο αισθητήρας συνδέεται στην αναλογική είσοδο A0. 
Οι τιμές τάσης του αισθητήρα μετατρέπονται σε τιμές 0-1023 μέσω του κυκλώματος ADC της πλακέτας
και εμφανίζονται στη σειριακή οθόνη. 
Ορίζουμε ελάχιστη τιμή – τιμή κατωφλίου –  ας πούμε 600, που συγκρίνεται με την παραπάνω τιμή και
 (α) αν είναι μικρότερη, έστω 400, τότε στην σειριακή οθόνη εμφανίζουμε την ένδειξη WET. 
 (β) αν είναι μεγαλύτερη, έστω 1000, τότε στην σειριακή οθόνη εμφανίζουμε την ένδειξη DRY. 
Επίσης, έχουμε συνδέσει έναν λαμπτήρα LED μπλε χρώματος στην ψηφιακή έξοδο D8, μέσω μιας αντίστασης 220Ω, 
και όταν βρέχει θέλουμε ο λαμπτήρας να ανάβει.  */

int rainPin = A0; // ακέραια μεταβλητή rainPin για τιμές αισθητήρα, ο αισθητήρας συνδέεται στον αναλογικό ακροδέκτη Α0, 
int blueLED = 8; //ακέραια μεταβλητή blueLED, ο λαμπτήρας LED μπλε χρώματος συνδέεται στην ψηφιακή έξοδο D8

int thresholdrValue = 600; // ακέραια σταθερά για την τιμή κατωφλίου

void setup(){
  pinMode(rainPin, INPUT); // είσοδος
  pinMode(blueLED, OUTPUT); // έξοδος
  digitalWrite(blueLED, LOW); 
  Serial.begin(9600);  //σειριακή οθόνη
}

void loop() {
   int sensorrValue = analogRead(rainPin);
  Serial.print(sensorrValue);
  if(sensorrValue < thresholdrValue){
    Serial.println(" - Wet");
    digitalWrite(blueLED, HIGH);
  }
  else {
    Serial.println(" - Dry");
    digitalWrite(blueLED, LOW);
  }
    delay(2000);
    
}
